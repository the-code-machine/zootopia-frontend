(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[600],{2274:(e,t,s)=>{"use strict";s.d(t,{G:()=>l,j:()=>r});var a=s(4540);let r=a.wA,l=a.d4},2355:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},3052:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},4312:(e,t,s)=>{Promise.resolve().then(s.bind(s,9281))},4559:(e,t,s)=>{"use strict";s.d(t,{T:()=>a});let a=s(9509).env.BACKEND_URL||"https://zootopia.webprvw.link/api"},4616:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},8084:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var a=s(3464),r=s(7383),l=s(4559);let n=a.A.create({baseURL:l.T});n.interceptors.request.use(e=>{let t=r.A.get("auth_token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),n.interceptors.response.use(e=>e,async e=>{var t;let s=e.config;if((null==(t=e.response)?void 0:t.status)===401&&!s._retry){s._retry=!0;try{let e=r.A.get("refresh_token");if(!e)throw Error("Missing refresh token");let t=(await a.A.post("".concat(l.T,"/auth/refresh"),{refresh_token:e})).data.token;return r.A.set("auth_token",t),s.headers.Authorization="Bearer ".concat(t),n(s)}catch(e){return console.error("Refresh token failed:",e),r.A.remove("auth_token"),r.A.remove("refresh_token"),window.location.href="/login",Promise.reject(e)}}return Promise.reject(e)});let i=n},8275:(e,t,s)=>{"use strict";s.d(t,{Ay:()=>m,Ns:()=>n,cD:()=>i,d3:()=>c,gG:()=>d});var a=s(1990),r=s(8084);let l=e=>{var t,s,a;return{id:String(e.id),status:e.status,date:e.date.split("T")[0],time:e.time,timeSlot:e.time_slot,numberOfPets:e.number_of_pets,pets:e.pets.map(e=>{var t,s,a,r,l,n;return{selectedPet:{id:String(e.id),name:e.name,type:e.type,gender:null!=(t=e.gender)?t:"",age:null!=(s=e.age)?s:"",weight:null!=(a=e.weight)?a:"",is_neutered:null!=(r=e.is_neutered)&&r},purposeOfVisit:null!=(l=e.purposeOfVisit)?l:"",memo:null!=(n=e.memo)?n:""}}),memberInfo:{firstName:null!=(t=e.member_first_name)?t:"",lastName:null!=(s=e.member_last_name)?s:"",phoneNumber:null!=(a=e.member_phone)?a:""},agreedToPolicy:e.agreed_to_policy}},n=(0,a.zD)("appointments/fetchAppointments",async(e,t)=>{try{return(await r.A.get("/appointments")).data.map(e=>l(e))}catch(e){return t.rejectWithValue(e.message)}}),i=(0,a.zD)("appointments/fetchAppointmentById",async(e,t)=>{try{let t=await r.A.get("/appointments/".concat(e));return l(t.data)}catch(e){return t.rejectWithValue(e.message)}}),d=(0,a.zD)("appointments/createAppointment",async(e,t)=>{try{let t=await r.A.post("/appointments",e);return l(t.data)}catch(e){return t.rejectWithValue(e.message)}}),o=(0,a.zD)("appointments/updateAppointment",async(e,t)=>{try{let{id:t,...s}=e,a=await r.A.put("/appointments/".concat(t),s);return l(a.data)}catch(e){return t.rejectWithValue(e.message)}}),c=(0,a.zD)("appointments/deleteAppointment",async(e,t)=>{try{return await r.A.delete("/appointments/".concat(e)),e}catch(e){return t.rejectWithValue(e.message)}}),m=(0,a.Z0)({name:"appointment",initialState:{loading:!1,error:null,appointments:[],selectedAppointment:null},reducers:{},extraReducers:e=>{e.addCase(n.pending,e=>{e.loading=!0,e.error=null}).addCase(n.fulfilled,(e,t)=>{e.loading=!1,e.appointments=t.payload}).addCase(n.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(i.pending,e=>{e.loading=!0,e.error=null}).addCase(i.fulfilled,(e,t)=>{e.loading=!1,e.selectedAppointment=t.payload;let s=e.appointments.findIndex(e=>e.id===t.payload.id);-1!==s&&(e.appointments[s]=t.payload)}).addCase(i.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(d.pending,e=>{e.loading=!0,e.error=null}).addCase(d.fulfilled,(e,t)=>{e.loading=!1,e.appointments.push(t.payload)}).addCase(d.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(o.pending,e=>{e.loading=!0,e.error=null}).addCase(o.fulfilled,(e,t)=>{e.loading=!1,e.selectedAppointment=t.payload;let s=e.appointments.findIndex(e=>e.id===t.payload.id);-1!==s&&(e.appointments[s]=t.payload)}).addCase(o.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(c.pending,e=>{e.loading=!0,e.error=null}).addCase(c.fulfilled,(e,t)=>{var s;e.loading=!1,e.appointments=e.appointments.filter(e=>e.id!==t.payload),(null==(s=e.selectedAppointment)?void 0:s.id)===t.payload&&(e.selectedAppointment=null)}).addCase(c.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}).reducer},9281:(e,t,s)=>{"use strict";s.d(t,{default:()=>x});var a=s(5155),r=s(2115),l=s(2355),n=s(3052);let i=(0,s(9946).A)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);var d=s(4616),o=s(6874),c=s.n(o),m=s(2274),p=s(8275),u=s(8084),h=s(3568);let x=()=>{var e,t;let s=(0,m.G)(e=>e.user),{pets:o}=(0,m.G)(e=>e.pet),{loading:x}=(0,m.G)(e=>e.appointment),g=new Date,[f,b]=(0,r.useState)(new Date(g.getFullYear(),g.getMonth(),1)),[j,y]=(0,r.useState)(new Date),[v,C]=(0,r.useState)([]),[w,N]=(0,r.useState)(!0),[k,P]=(0,r.useState)(g.getMonth()),[A,_]=(0,r.useState)(g.getFullYear()),[M,S]=(0,r.useState)("05:00"),[E,D]=(0,r.useState)("PM"),[V,L]=(0,r.useState)(1),[B,O]=(0,r.useState)([{selectedPet:void 0,purposeOfVisit:"",memo:""}]),[F,z]=(0,r.useState)(!1),[R,H]=(0,r.useState)(0),[T,W]=(0,r.useState)(!1),[Z,I]=(0,r.useState)(!1),[Y,G]=(0,r.useState)(!1),[U,q]=(0,r.useState)({}),[K,J]=(0,r.useState)(!1),Q=(0,m.j)();(0,r.useEffect)(()=>{(async()=>{N(!0);try{let e=await u.A.get("/admin/blocked_slot?limit=1000");C(e.data.data)}catch(e){console.error("Failed to fetch blocked slots:",e)}finally{N(!1)}})()},[]);let X=e=>{let t=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(s,"-").concat(a)},$=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=X(e);return!!v.some(e=>e.date.substring(0,10)===s&&null===e.time)||!!t&&v.some(e=>e.date.substring(0,10)===s&&e.time==="".concat(t,":00"))},ee=(0,r.useMemo)(()=>{var e,t,a,r;return{firstName:(null==s||null==(e=s.profile)?void 0:e.firstName)||"",lastName:(null==s||null==(t=s.profile)?void 0:t.lastName)||"",phoneNumber:(null==s||null==(r=s.profile)||null==(a=r.email)?void 0:a.substring(0,20))||""}},[s]),et=e=>{b(t=>{let s=new Date(t);return s.setDate(1),s.setMonth(t.getMonth()+("next"===e?1:-1)),s})},es=()=>B.every(e=>e.selectedPet&&e.purposeOfVisit.trim()&&e.memo.trim()),ea=e=>{if("increase"===e&&V<10)L(V+1),O(e=>[...e,{selectedPet:void 0,purposeOfVisit:"",memo:""}]);else if("decrease"===e&&V>1){let e=V-1;L(e),O(t=>t.slice(0,e));let t={...U};Object.keys(t).forEach(s=>{s.startsWith("pet_".concat(e,"_"))&&delete t[s]}),q(t)}},er=e=>{if(B.some((t,s)=>{var a,r;return s!==R&&(null==(a=t.selectedPet)?void 0:a.id)!==null&&(null==(r=t.selectedPet)?void 0:r.id)===e.id}))return void h.Ay.error("This pet has already been added to the appointment.");let t=[...B];t[R].selectedPet=e,O(t),z(!1)},el=(e,t,s)=>{let a=[...B];a[e]={...a[e],[t]:s},O(a);let r={...U};delete r["pet_".concat(e,"_").concat("purposeOfVisit"===t?"purpose":"memo")],q(r)},en=async()=>{if(!Y)return void alert("Please agree to the cancellation policy before confirming.");try{let e={date:X(j),time:M,timeSlot:E,numberOfPets:V,pets:B,memberInfo:ee,agreedToPolicy:Y};console.log("Submitting appointment data:",e);let t=await Q((0,p.gG)(e));t?(W(!1),I(!0)):(console.error("Submission failed:",t.payload),alert("Failed to create appointment. Please review your details and try again."),W(!1))}catch(e){console.error("Error submitting appointment:",e),alert("An unexpected error occurred. Please try again.")}},ei=(e,t)=>{e.target===e.currentTarget&&t()},ed=(e,t)=>U["pet_".concat(e,"_").concat(t)];return(0,a.jsxs)("div",{className:"min-h-screen",children:[!T&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"bg-white fixed top-0 px-4 w-full sm:max-w-3xl py-4 flex items-center justify-between border-[#E7E7E7] border z-10",children:[(0,a.jsx)(c(),{href:"/dashboard",children:(0,a.jsx)("svg",{width:"18",height:"17",viewBox:"0 0 18 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.5 1.35355C7.69526 1.15829 8.01184 1.15829 8.20711 1.35355C8.40237 1.54882 8.40237 1.8654 8.20711 2.06066L1.91421 8.35355H16.7071C16.9832 8.35355 17.2071 8.57741 17.2071 8.85355C17.2071 9.1297 16.9833 9.35355 16.7071 9.35355H1.91421L8.20711 15.6464C8.40237 15.8417 8.40237 16.1583 8.20711 16.3536C8.01184 16.5488 7.69526 16.5488 7.5 16.3536L0.707107 9.56066C0.316582 9.17014 0.316583 8.53697 0.707107 8.14645L7.5 1.35355Z",fill:"#1B1B1C",stroke:"black",strokeWidth:"0.5"})})}),(0,a.jsx)("h1",{className:"text-[20px] font-medium text-[#1B1B1C]",children:"New Appointment"}),(0,a.jsx)(c(),{href:"/dashboard",children:(0,a.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("g",{clipPath:"url(#clip0_12564_3123)",children:(0,a.jsx)("path",{d:"M19.2677 7.55739L12.9468 1.23572C12.1645 0.455713 11.1049 0.0177002 10.0002 0.0177002C8.89544 0.0177002 7.83579 0.455713 7.0535 1.23572L0.732663 7.55739C0.499684 7.78888 0.314971 8.0643 0.189231 8.36771C0.063492 8.67111 -0.000772746 8.99646 0.000162654 9.32489V17.5057C0.000162654 18.1688 0.263555 18.8046 0.732396 19.2735C1.20124 19.7423 1.83712 20.0057 2.50016 20.0057H17.5002C18.1632 20.0057 18.7991 19.7423 19.2679 19.2735C19.7368 18.8046 20.0002 18.1688 20.0002 17.5057V9.32489C20.0011 8.99646 19.9368 8.67111 19.8111 8.36771C19.6854 8.0643 19.5006 7.78888 19.2677 7.55739ZM12.5002 18.3391H7.50016V15.0607C7.50016 14.3977 7.76356 13.7618 8.2324 13.293C8.70124 12.8241 9.33712 12.5607 10.0002 12.5607C10.6632 12.5607 11.2991 12.8241 11.7679 13.293C12.2368 13.7618 12.5002 14.3977 12.5002 15.0607V18.3391ZM18.3335 17.5057C18.3335 17.7267 18.2457 17.9387 18.0894 18.095C17.9331 18.2513 17.7212 18.3391 17.5002 18.3391H14.1668V15.0607C14.1668 13.9557 13.7278 12.8958 12.9464 12.1144C12.165 11.333 11.1052 10.8941 10.0002 10.8941C8.89509 10.8941 7.83529 11.333 7.05389 12.1144C6.27248 12.8958 5.8335 13.9557 5.8335 15.0607V18.3391H2.50016C2.27915 18.3391 2.06719 18.2513 1.91091 18.095C1.75463 17.9387 1.66683 17.7267 1.66683 17.5057V9.32489C1.6676 9.10404 1.75532 8.89238 1.911 8.73572L8.23183 2.41656C8.70158 1.949 9.33738 1.68651 10.0002 1.68651C10.6629 1.68651 11.2987 1.949 11.7685 2.41656L18.0893 8.73822C18.2444 8.89426 18.3321 9.10491 18.3335 9.32489V17.5057Z",fill:"#222222"})}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"clip0_12564_3123",children:(0,a.jsx)("rect",{width:"20",height:"20",fill:"white"})})})]})})]}),(0,a.jsxs)("div",{className:"pt-16",children:[(0,a.jsxs)("div",{className:"bg-white p-6 border-[#E7E7E7] border-b mb-3",children:[(0,a.jsx)("h2",{className:"text-xl font-bold mb-3",children:"Appointment"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 mb-1",children:["Note : Consultation hours is 9:00 am to 6:00 pm : Cut off will be at 6:00 PM &"," ",(0,a.jsx)("span",{className:"text-red-500 font-semibold",children:"Emergency hours is 7:00 PM to 9:00 PM"})]})]}),(0,a.jsxs)("div",{className:"bg-white p-4 border-b border-gray-100",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("button",{onClick:()=>et("prev"),children:(0,a.jsx)(l.A,{className:"w-5 h-5"})}),(0,a.jsx)("h3",{className:"font-semibold mx-4 text-lg",children:f.toLocaleString("default",{month:"long",year:"numeric"})}),(0,a.jsx)("button",{onClick:()=>et("next"),children:(0,a.jsx)(n.A,{className:"w-5 h-5"})})]}),(0,a.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,a.jsx)("div",{className:"text-center text-sm text-gray-500 py-2",children:e},e))}),(0,a.jsx)("div",{className:"grid grid-cols-7 gap-1",children:(()=>{let e=f.getFullYear(),t=f.getMonth(),s=new Date(e,t+1,0).getDate(),a=new Date(e,t,1).getDay(),r=[];for(let e=0;e<a;e++)r.push({day:null,isCurrentMonth:!1,isPast:!0,isBlocked:!1});for(let a=1;a<=s;a++){let s=new Date(e,t,a),l=s<new Date(g.toDateString()),n=$(s);r.push({day:a,isCurrentMonth:!0,isPast:l,isBlocked:n})}return r})().map((e,t)=>(0,a.jsx)("button",{onClick:()=>e.isCurrentMonth&&!e.isPast&&!e.isBlocked&&y(new Date(f.getFullYear(),f.getMonth(),e.day)),disabled:e.isPast||e.isBlocked||!e.isCurrentMonth,className:"w-10 h-10 text-sm rounded-lg flex items-center justify-center mx-auto transition-colors\n                      ".concat(e.isPast||!e.isCurrentMonth?"text-gray-300":"","\n                      ").concat(e.isBlocked?"bg-red-200 text-red-400 cursor-not-allowed line-through":"","\n                      ").concat(!e.isCurrentMonth||e.isBlocked||e.isPast?"":j.toDateString()===new Date(f.getFullYear(),f.getMonth(),e.day).toDateString()?"bg-primary text-white":"text-gray-800 hover:bg-gray-100","\n                    "),children:e.day},t))})]}),(0,a.jsxs)("div",{className:"bg-white border-b p-6 border-gray-100",children:[(0,a.jsx)("h3",{className:"font-semibold mb-3",children:"AM"}),(0,a.jsx)("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[{display:"09:00",value:"09:00"},{display:"10:00",value:"10:00"},{display:"11:00",value:"11:00"}].map(e=>{let t=$(j,e.value);return(0,a.jsx)("button",{onClick:()=>{S(e.value),D("AM")},disabled:t,className:"py-2 px-3 text-sm rounded-md border ".concat(M===e.value&&"AM"===E?"bg-primary text-white border-primary":"border-gray-300"," ").concat(t?"bg-gray-200 text-gray-400 cursor-not-allowed":"hover:border-gray-400"),children:e.display},e.value)})}),(0,a.jsx)("h3",{className:"font-semibold mb-3",children:"PM"}),(0,a.jsx)("div",{className:"grid grid-cols-4 gap-2",children:[{display:"12:00",value:"12:00"},{display:"01:00",value:"13:00"},{display:"02:00",value:"14:00"},{display:"03:00",value:"15:00"},{display:"04:00",value:"16:00"},{display:"05:00",value:"17:00"},{display:"06:00",value:"18:00"},{display:"07:00",value:"19:00"},{display:"08:00",value:"20:00"},{display:"09:00",value:"21:00"}].map(e=>{let t=$(j,e.value);return(0,a.jsx)("button",{onClick:()=>{S(e.value),D("PM")},disabled:t,className:"py-2 px-3 text-sm rounded-md border ".concat(M===e.value&&"PM"===E?"bg-primary text-white border-primary":"border-gray-300"," ").concat(t?"bg-gray-200 text-gray-400 cursor-not-allowed":"hover:border-gray-400"),children:e.display},e.value)})})]}),(0,a.jsx)("div",{className:"bg-white border-[#E7E7E7] border-t p-6",children:(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["Number of pets ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("p",{className:"text-xs text-blue-500 mt-1",children:"Up to 10 animals can be registered."})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("button",{onClick:()=>ea("decrease"),className:"w-8 h-8 border border-gray-300 rounded flex items-center justify-center hover:bg-gray-50",disabled:V<=1,children:(0,a.jsx)(i,{className:"w-4 h-4 text-gray-600"})}),(0,a.jsx)("span",{className:"w-8 h-8 border border-gray-300 rounded flex items-center justify-center",children:V}),(0,a.jsx)("button",{onClick:()=>ea("increase"),className:"w-8 h-8 border border-gray-300 rounded flex items-center justify-center hover:bg-gray-50",disabled:V>=10,children:(0,a.jsx)(d.A,{className:"w-4 h-4 text-gray-600"})})]})]})}),B.map((e,t)=>(0,a.jsxs)("div",{className:"bg-white border-[#E7E7E7] border-t p-6 space-y-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:["Pet ",t+1," Information"]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["Pet reservation ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("button",{onClick:()=>{H(t),z(!0)},className:"w-full p-3 rect text-left focus:ring-2 flex justify-between focus:ring-cyan-500 focus:border-primary ".concat(e.selectedPet?"text-[#3BB8AF] font-semibold":""," ").concat(ed(t,"selection")?"border-red-500":""),children:[(0,a.jsx)("span",{children:e.selectedPet?"".concat(e.selectedPet.name):"Select pet"}),(0,a.jsx)("span",{children:(0,a.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M7.24664 9.25191C7.41106 9.08397 7.62033 9 7.87444 9C8.12855 9 8.33782 9.08397 8.50224 9.25191L12 12.8244L15.4978 9.25191C15.6622 9.08397 15.8714 9 16.1256 9C16.3797 9 16.5889 9.08397 16.7534 9.25191C16.9178 9.41985 17 9.63359 17 9.89313C17 10.1527 16.9178 10.3664 16.7534 10.5344L12.6278 14.7481C12.5381 14.8397 12.441 14.9046 12.3363 14.9427C12.2317 14.9809 12.1196 15 12 15C11.8804 15 11.7683 14.9809 11.6637 14.9427C11.559 14.9046 11.4619 14.8397 11.3722 14.7481L7.24664 10.5344C7.08221 10.3664 7 10.1527 7 9.89313C7 9.63359 7.08221 9.41985 7.24664 9.25191Z",fill:"#222222"})})})]}),ed(t,"selection")&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:ed(t,"selection")})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["Purpose of visit ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"text",value:e.purposeOfVisit,onChange:e=>el(t,"purposeOfVisit",e.target.value),placeholder:"Enter purpose of visit",className:"w-full p-3 rect focus:ring-2 focus:ring-primary focus:outline-none ".concat(ed(t,"purpose")?"border-red-500":"")}),ed(t,"purpose")&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:ed(t,"purpose")})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["Memo ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("textarea",{value:e.memo,onChange:e=>el(t,"memo",e.target.value),placeholder:"More details or concerns",rows:4,className:"w-full p-3 rect resize-none focus:ring-1 focus:ring-primary focus:outline-none ".concat(ed(t,"memo")?"border-red-500":"")}),ed(t,"memo")&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:ed(t,"memo")})]})]},t)),(0,a.jsx)("div",{className:"w-full px-4 py-4 bg-white",children:(0,a.jsx)("button",{onClick:()=>{(()=>{let e={};return B.forEach((t,s)=>{t.selectedPet||(e["pet_".concat(s,"_selection")]="Please select a pet for Pet ".concat(s+1)),t.purposeOfVisit.trim()||(e["pet_".concat(s,"_purpose")]="Please enter purpose of visit for Pet ".concat(s+1)),t.memo.trim()||(e["pet_".concat(s,"_memo")]="Please enter memo for Pet ".concat(s+1))}),q(e),0===Object.keys(e).length})()&&W(!0)},disabled:!es(),className:"w-full ".concat(es()?"bg-primary hover:bg-primary/90":"bg-[#999999] cursor-not-allowed"," text-white py-4 rounded-lg mx-auto font-semibold transition-colors"),children:"Next"})})]})]}),F&&(0,a.jsx)("div",{className:"fixed md:mx-auto md:max-w-3xl inset-0 bg-black/30 z-50 flex items-end",onClick:e=>ei(e,()=>z(!1)),children:(0,a.jsx)("div",{className:"bg-white w-full max-h-[80vh] rounded-t-xl overflow-hidden",children:(0,a.jsxs)("div",{className:"p-8 max-h-[36rem] overflow-y-auto",children:[o.map(e=>{var t,s;let r=(null==(s=B[R])||null==(t=s.selectedPet)?void 0:t.id)===e.id;return(0,a.jsxs)("div",{onClick:()=>er(e),className:"\n                      p-4 rounded mb-3 cursor-pointer transition-colors rect min-h-24\n                      ".concat(r?"border-primary bg-primary/10 border":"border-gray-200 border","\n                    "),children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("span",{className:"\n                          text-lg font-semibold\n                          ".concat(e.id?"text-[#3BB8AF]":"text-[#6C6C70]","\n                        "),children:e.name}),e.id&&(0,a.jsxs)("span",{className:"text-gray-600",children:["â€¢ ",e.type]})]})}),e.id&&(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[e.gender,e.is_neutered&&"(Neutering)"," |"," ",function(e){let t=new Date(e),s=new Date,a=s.getFullYear()-t.getFullYear(),r=s.getMonth()-t.getMonth(),l=s.getDate()-t.getDate();l<0&&(r-=1,l+=new Date(s.getFullYear(),s.getMonth(),0).getDate()),r<0&&(a-=1,r+=12);let n=[];return a>0&&n.push("".concat(a," year").concat(a>1?"s":"")),r>0&&n.push("".concat(r," month").concat(r>1?"s":"")),0===a&&0===r&&n.push("".concat(l," day").concat(l>1?"s":"")),n.join(", ")}(e.birthday)]})]},e.id)}),(0,a.jsx)("div",{onClick:()=>er({id:null,name:"Unregistered Pet"}),className:"p-4 rounded mb-3 cursor-pointer border ".concat((null==(t=B[R])||null==(e=t.selectedPet)?void 0:e.id)===null?"border-primary bg-primary/10":"border-gray-200"),children:(0,a.jsx)("div",{className:"flex items-start justify-between mb-2 h-14",children:(0,a.jsx)("div",{className:"flex items-start space-x-3",children:(0,a.jsx)("span",{className:"text-lg font-semibold text-[#6C6C70]",children:"Unregistered Pet"})})})})]})})}),T&&(0,a.jsx)("div",{className:"flex bg-white min-h-screen",children:(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsxs)("div",{className:"bg-white fixed top-0 px-4 w-full sm:max-w-3xl py-4 flex items-center justify-between border-[#E7E7E7] border z-10",children:[(0,a.jsx)("button",{onClick:()=>W(!1),children:(0,a.jsx)("svg",{width:"18",height:"17",viewBox:"0 0 18 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.5 1.35355C7.69526 1.15829 8.01184 1.15829 8.20711 1.35355C8.40237 1.54882 8.40237 1.8654 8.20711 2.06066L1.91421 8.35355H16.7071C16.9832 8.35355 17.2071 8.57741 17.2071 8.85355C17.2071 9.1297 16.9833 9.35355 16.7071 9.35355H1.91421L8.20711 15.6464C8.40237 15.8417 8.40237 16.1583 8.20711 16.3536C8.01184 16.5488 7.69526 16.5488 7.5 16.3536L0.707107 9.56066C0.316582 9.17014 0.316583 8.53697 0.707107 8.14645L7.5 1.35355Z",fill:"#1B1B1C",stroke:"black",strokeWidth:"0.5"})})}),(0,a.jsx)("h1",{className:"text-[20px] font-medium text-[#1B1B1C]"}),(0,a.jsx)(c(),{href:"/dashboard/booking/appointments",children:(0,a.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("g",{clipPath:"url(#clip0_12564_3123)",children:(0,a.jsx)("path",{d:"M19.2677 7.55739L12.9468 1.23572C12.1645 0.455713 11.1049 0.0177002 10.0002 0.0177002C8.89544 0.0177002 7.83579 0.455713 7.0535 1.23572L0.732663 7.55739C0.499684 7.78888 0.314971 8.0643 0.189231 8.36771C0.063492 8.67111 -0.000772746 8.99646 0.000162654 9.32489V17.5057C0.000162654 18.1688 0.263555 18.8046 0.732396 19.2735C1.20124 19.7423 1.83712 20.0057 2.50016 20.0057H17.5002C18.1632 20.0057 18.7991 19.7423 19.2679 19.2735C19.7368 18.8046 20.0002 18.1688 20.0002 17.5057V9.32489C20.0011 8.99646 19.9368 8.67111 19.8111 8.36771C19.6854 8.0643 19.5006 7.78888 19.2677 7.55739ZM12.5002 18.3391H7.50016V15.0607C7.50016 14.3977 7.76356 13.7618 8.2324 13.293C8.70124 12.8241 9.33712 12.5607 10.0002 12.5607C10.6632 12.5607 11.2991 12.8241 11.7679 13.293C12.2368 13.7618 12.5002 14.3977 12.5002 15.0607V18.3391ZM18.3335 17.5057C18.3335 17.7267 18.2457 17.9387 18.0894 18.095C17.9331 18.2513 17.7212 18.3391 17.5002 18.3391H14.1668V15.0607C14.1668 13.9557 13.7278 12.8958 12.9464 12.1144C12.165 11.333 11.1052 10.8941 10.0002 10.8941C8.89509 10.8941 7.83529 11.333 7.05389 12.1144C6.27248 12.8958 5.8335 13.9557 5.8335 15.0607V18.3391H2.50016C2.27915 18.3391 2.06719 18.2513 1.91091 18.095C1.75463 17.9387 1.66683 17.7267 1.66683 17.5057V9.32489C1.6676 9.10404 1.75532 8.89238 1.911 8.73572L8.23183 2.41656C8.70158 1.949 9.33738 1.68651 10.0002 1.68651C10.6629 1.68651 11.2987 1.949 11.7685 2.41656L18.0893 8.73822C18.2444 8.89426 18.3321 9.10491 18.3335 9.32489V17.5057Z",fill:"#222222"})}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"clip0_12564_3123",children:(0,a.jsx)("rect",{width:"20",height:"20",fill:"white"})})})]})})]}),(0,a.jsxs)("div",{className:"p-6 pt-20 pb-32",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold mb-6 text-[#222222]",children:"Please confirm appointment details below"}),(0,a.jsxs)("div",{className:"rect p-4 mb-6 flex justify-between items-center",children:[(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"text-sm font-normal text-[#222222]",children:[new Date(j).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})," ",E," ",M]})}),(0,a.jsx)("button",{onClick:()=>W(!1),className:"text-[#222222] px-3 py-1 bg-[#E5E5EA] rounded text-sm",children:"Edit"})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"font-medium text-lg text-[#222222] mb-3",children:"Member Information"}),(0,a.jsxs)("div",{className:"bg-primary/10 p-4 rounded-lg space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-[#222222]",children:"First Name"}),(0,a.jsx)("span",{className:"text-sm text-[#0066C3] font-medium",children:ee.firstName})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-[#222222]",children:"Last Name"}),(0,a.jsx)("span",{className:"text-sm text-[#0066C3] font-medium",children:ee.lastName})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-[#222222]",children:"Phone Number"}),(0,a.jsx)("span",{className:"text-sm text-[#0066C3] font-medium",children:ee.phoneNumber})]})]})]}),B.map((e,t)=>{var s;return(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("h3",{className:"font-medium text-lg text-[#222222] mb-3",children:["Pet reservation ",t+1]}),(0,a.jsxs)("div",{className:"bg-primary/10 p-4 rounded-lg space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Pet Name"}),(0,a.jsx)("span",{className:"text-sm text-[#0066C3] font-medium",children:(null==(s=e.selectedPet)?void 0:s.name)||"Not selected"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Purpose of visit"}),(0,a.jsx)("span",{className:"text-sm text-[#0066C3] font-medium",children:e.purposeOfVisit||"Not specified"})]})]})]},t)})]}),(0,a.jsxs)("div",{className:" bg-white border-t border-[#E5E5EA] p-4 mx-4 z-10",children:[(0,a.jsxs)("label",{className:"flex items-start space-x-3 cursor-pointer mb-4",children:[(0,a.jsxs)("div",{className:"relative flex-shrink-0 mt-0.5",children:[(0,a.jsx)("input",{type:"checkbox",className:"sr-only",checked:Y,onChange:()=>G(!Y)}),(0,a.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center transition-colors duration-200 ".concat(Y?"bg-primary":"bg-gray-300"),children:(0,a.jsx)("svg",{className:"w-4 h-4 ".concat("text-white"),fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),(0,a.jsx)("span",{className:"text-sm text-[#222222] font-normal",children:"I HAVE READ AND AGREE TO FOLLOW ZOOTOPIA'S CANCELLATION POLICY"})]}),(0,a.jsx)("p",{className:"text-xs text-[#6C6C70] font-normal mb-4",children:"When you book an appointment at ZAWC, we reserve that time specifically for your pet. Short-Notice Cancellations or Reschedules (Within 24 hours of the appointment) No-Show, your appointment will be automatically cancel."}),(0,a.jsx)("button",{onClick:en,disabled:!Y||x,className:"w-full ".concat(Y&&!x?"bg-primary hover:bg-primary/90":"bg-[#999999]"," text-white py-4 rounded-lg font-semibold transition-colors relative"),children:x?(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent mr-2"}),"Confirming..."]}):"Confirm"})]})]})}),Z&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/30 z-50 flex items-center justify-center",onClick:e=>ei(e,()=>I(!1)),children:(0,a.jsx)("div",{className:"bg-white w-full max-w-md mx-4 rounded-lg overflow-hidden",children:(0,a.jsxs)("div",{className:"p-12 text-center",children:[(0,a.jsx)("h2",{className:"text-[16px] font-medium mb-20 text-[#222222]",children:"Reservation completed"}),(0,a.jsx)("button",{onClick:()=>{window.location.href="/dashboard/booking/appointments",I(!1)},className:"text-[#0066C3] text-[16px] font-medium",children:"Confirm"})]})})})]})}}},e=>{e.O(0,[122,540,990,95,568,441,964,358],()=>e(e.s=4312)),_N_E=e.O()}]);