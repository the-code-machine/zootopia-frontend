(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[960],{2274:(e,s,a)=>{"use strict";a.d(s,{G:()=>r,j:()=>l});var t=a(4540);let l=t.wA,r=t.d4},4355:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},4416:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},4559:(e,s,a)=>{"use strict";a.d(s,{T:()=>t});let t=a(9509).env.BACKEND_URL||"https://zootopia.webprvw.link/api"},4616:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5560:(e,s,a)=>{"use strict";a.d(s,{A:()=>i});var t=a(5155),l=a(6874),r=a.n(l);function i(e){let{title:s}=e;return(0,t.jsxs)("div",{className:"bg-white fixed top-0 px-4 w-full sm:max-w-3xl py-4 flex items-center justify-between  border-[#E7E7E7] border z-10",children:[(0,t.jsx)(r(),{href:"/dashboard",children:(0,t.jsx)("svg",{width:"18",height:"17",viewBox:"0 0 18 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.5 1.35355C7.69526 1.15829 8.01184 1.15829 8.20711 1.35355C8.40237 1.54882 8.40237 1.8654 8.20711 2.06066L1.91421 8.35355H16.7071C16.9832 8.35355 17.2071 8.57741 17.2071 8.85355C17.2071 9.1297 16.9833 9.35355 16.7071 9.35355H1.91421L8.20711 15.6464C8.40237 15.8417 8.40237 16.1583 8.20711 16.3536C8.01184 16.5488 7.69526 16.5488 7.5 16.3536L0.707107 9.56066C0.316582 9.17014 0.316583 8.53697 0.707107 8.14645L7.5 1.35355Z",fill:"#1B1B1C",stroke:"black","stroke-width":"0.5"})})}),(0,t.jsx)("h1",{className:"text-[20px] font-medium text-[#1B1B1C]",children:s}),(0,t.jsx)("div",{})]})}a(2115)},6065:(e,s,a)=>{"use strict";a.d(s,{default:()=>j});var t=a(5155),l=a(2115),r=a(9946);let i=(0,r.A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var n=a(4616);let c=(0,r.A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),o=(0,r.A)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),d=(0,r.A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);var h=a(4416),u=a(4355),m=a(8141),x=a(2274),p=a(8084),f=a(5560);let j=()=>{let e=(0,x.j)(),s=(0,x.G)(e=>e.user.profile),[a,r]=(0,l.useState)(""),[j,y]=(0,l.useState)(""),[v,b]=(0,l.useState)(""),[N,g]=(0,l.useState)(""),[w,k]=(0,l.useState)(""),[A,C]=(0,l.useState)(!1),[M,E]=(0,l.useState)(null),[L,S]=(0,l.useState)(!1),P=(0,l.useRef)(null);(0,l.useEffect)(()=>{s&&(r(s.firstName||""),y(s.lastName||""),b(s.email||""),g(s.phone||""),k(s.state||""))},[s]);let _=async t=>{t.preventDefault(),v!==(null==s?void 0:s.email)&&e((0,m.ZA)(v)),N!==(null==s?void 0:s.phone)&&e((0,m.d6)(N)),(await p.A.put("/auth/profile",{firstName:a,lastName:j,email:v,phone:N,state:w})).data&&C(!0)},U=()=>{C(!1)},z=()=>{S(!0)};return(0,t.jsxs)("div",{className:"min-h-screen  pb-20",children:[(0,t.jsx)(f.A,{title:"User Profile"}),(0,t.jsx)("div",{className:"px-4 py-6 pt-20",children:(0,t.jsxs)("form",{onSubmit:_,children:[(0,t.jsx)("div",{className:"flex justify-center mb-8",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"h-40 w-40 rounded-full bg-[#F2FFFF] flex items-center justify-center overflow-hidden cursor-pointer",onClick:z,children:M?(0,t.jsx)("img",{src:M,alt:"Profile",className:"h-full w-full object-cover"}):(0,t.jsx)(i,{className:"h-24 w-24 text-[#46D3E0]"})}),(0,t.jsx)("button",{type:"button",className:"absolute bottom-0 right-0 bg-white rounded-full p-2 shadow-md border border-gray-200",onClick:z,children:(0,t.jsx)(n.A,{className:"h-6 w-6 text-gray-500"})})]})}),(0,t.jsx)("input",{type:"file",ref:P,onChange:e=>{let s=e.target.files[0];if(s){let e=new FileReader;e.onload=e=>{E(e.target.result),S(!1)},e.readAsDataURL(s)}},accept:"image/*",className:"hidden"}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("label",{className:"block text-lg font-medium mb-2",children:["First Name ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",placeholder:"Enter your first name",className:"w-full px-4 py-4  rect",value:a,onChange:e=>r(e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("label",{className:"block text-lg font-medium mb-2",children:["Last Name ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",placeholder:"Enter your last name",className:"w-full px-4 py-4 rect",value:j,onChange:e=>y(e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("label",{className:"block text-lg font-medium mb-2",children:["Email ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"email",placeholder:"Enter your email",className:"w-full px-4 py-4 rect pl-12",value:v,onChange:e=>b(e.target.value),required:!0}),(0,t.jsx)("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:(0,t.jsx)(c,{className:"h-5 w-5 text-gray-400"})})]})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"block text-lg font-medium mb-2",children:"Phone Number"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"tel",placeholder:"Enter your phone number",className:"w-full px-4 py-4 rect pl-12",value:N,onChange:e=>g(e.target.value)}),(0,t.jsx)("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:(0,t.jsx)(o,{className:"h-5 w-5 text-gray-400"})})]})]}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("label",{className:"block text-lg font-medium mb-2",children:["State ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("select",{className:"w-full px-4 py-4 rect pl-12 appearance-none bg-white",value:w,onChange:e=>k(e.target.value),required:!0,children:[(0,t.jsx)("option",{value:"",disabled:!0,children:"Select your state"}),["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"].map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),(0,t.jsx)("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:(0,t.jsx)(d,{className:"h-5 w-5 text-gray-400"})}),(0,t.jsx)("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 pointer-events-none",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),(0,t.jsx)("div",{className:"mt-8",children:(0,t.jsx)("button",{type:"submit",className:"w-full  bg-primary text-white py-4 rounded-lg text-lg font-medium shadow-md",children:"Update Profile"})})]})}),L&&(0,t.jsx)("div",{className:"fixed inset-0   bg-black/50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-sm w-full mx-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h3",{className:"text-xl font-medium",children:"Select Profile Image"}),(0,t.jsx)("button",{onClick:()=>S(!1),children:(0,t.jsx)(h.A,{className:"h-6 w-6 text-gray-500"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("button",{onClick:()=>{P.current.click()},className:"w-full flex items-center justify-center space-x-2 py-3 px-4 border border-gray-200 rounded-lg",children:[(0,t.jsx)(u.A,{className:"h-5 w-5 text-[#46D3E0]"}),(0,t.jsx)("span",{children:"Upload from device"})]}),M&&(0,t.jsxs)("button",{onClick:()=>{E(null),S(!1)},className:"w-full flex items-center justify-center space-x-2 py-3 px-4 border border-gray-200 rounded-lg text-red-500",children:[(0,t.jsx)(h.A,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Remove current image"})]}),(0,t.jsx)("button",{onClick:()=>S(!1),className:"w-full py-3 px-4 bg-gray-100 rounded-lg text-gray-700",children:"Cancel"})]})]})}),A&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50  bg-opacity-50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-sm w-full mx-4",children:[(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)("button",{onClick:U,children:(0,t.jsx)(h.A,{className:"h-6 w-6 text-gray-500"})})}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"mb-4 flex justify-center",children:(0,t.jsx)("div",{className:"w-20 h-20 bg-[#46D3E0] bg-opacity-20 rounded-full flex items-center justify-center",children:(0,t.jsx)("svg",{className:"h-10 w-10 text-[#ffff]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),(0,t.jsx)("h3",{className:"text-xl font-medium mb-2",children:"Profile Updated!"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"Your profile information has been successfully updated."}),(0,t.jsx)("button",{onClick:U,className:"w-full  bg-primary text-white py-3 rounded-lg font-medium",children:"OK"})]})]})})]})}},8084:(e,s,a)=>{"use strict";a.d(s,{A:()=>n});var t=a(3464),l=a(7383),r=a(4559);let i=t.A.create({baseURL:r.T});i.interceptors.request.use(e=>{let s=l.A.get("auth_token");return s&&(e.headers.Authorization="Bearer ".concat(s)),e},e=>Promise.reject(e)),i.interceptors.response.use(e=>e,async e=>{var s;let a=e.config;if((null==(s=e.response)?void 0:s.status)===401&&!a._retry){a._retry=!0;try{let e=l.A.get("refresh_token");if(!e)throw Error("Missing refresh token");let s=(await t.A.post("".concat(r.T,"/auth/refresh"),{refresh_token:e})).data.token;return l.A.set("auth_token",s),a.headers.Authorization="Bearer ".concat(s),i(a)}catch(e){return console.error("Refresh token failed:",e),l.A.remove("auth_token"),l.A.remove("refresh_token"),window.location.href="/login",Promise.reject(e)}}return Promise.reject(e)});let n=i},8141:(e,s,a)=>{"use strict";a.d(s,{Ay:()=>c,ZA:()=>i,d6:()=>n,p:()=>l});let t=(0,a(1990).Z0)({name:"user",initialState:{profile:null},reducers:{setUserProfile:(e,s)=>{e.profile=s.payload},clearUserProfile:e=>{e.profile=null},updateUserEmail:(e,s)=>{e.profile&&(e.profile.email=s.payload)},updateUserPhone:(e,s)=>{e.profile&&(e.profile.phone=s.payload)}}}),{setUserProfile:l,clearUserProfile:r,updateUserEmail:i,updateUserPhone:n}=t.actions,c=t.reducer},9236:(e,s,a)=>{Promise.resolve().then(a.bind(a,6065))}},e=>{e.O(0,[122,540,990,95,441,964,358],()=>e(e.s=9236)),_N_E=e.O()}]);