exports.id=654,exports.ids=[654],exports.modules={2118:(a,b,c)=>{"use strict";c.d(b,{A:()=>h});var d=c(51060),e=c(15659),f=c(54307);let g=d.A.create({baseURL:f.T});g.interceptors.request.use(a=>{let b=e.A.get("auth_token");return b&&(a.headers.Authorization=`Bearer ${b}`),a},a=>Promise.reject(a)),g.interceptors.response.use(a=>a,async a=>{let b=a.config;if(a.response?.status===401&&!b._retry){b._retry=!0;try{let a=e.A.get("refresh_token");if(!a)throw Error("Missing refresh token");let c=(await d.A.post(`${f.T}/auth/refresh`,{refresh_token:a})).data.token;return e.A.set("auth_token",c),b.headers.Authorization=`Bearer ${c}`,g(b)}catch(a){return console.error("Refresh token failed:",a),e.A.remove("auth_token"),e.A.remove("refresh_token"),Promise.reject(a)}}return Promise.reject(a)});let h=g},3541:(a,b,c)=>{"use strict";c.d(b,{Ay:()=>h,F2:()=>f,Hp:()=>g});var d=c(2118),e=c(9317);let f=(0,e.zD)("pet/registerPet",async(a,b)=>{try{return(await d.A.post("/pet",a)).data}catch(a){return b.rejectWithValue(a?.response?.data?.message||"Failed to register pet")}}),g=(0,e.zD)("pet/fetchPets",async(a,b)=>{try{return(await d.A.get("/pet")).data}catch(a){return b.rejectWithValue(a?.response?.data?.message||"Failed to fetch pets")}}),h=(0,e.Z0)({name:"pet",initialState:{pets:[],loading:!1,error:null},reducers:{},extraReducers:a=>{a.addCase(f.pending,a=>{a.loading=!0,a.error=null}).addCase(f.fulfilled,(a,b)=>{a.loading=!1,a.pets.push(b.payload)}).addCase(f.rejected,(a,b)=>{a.loading=!1,a.error=b.payload||"Failed to register pet"}).addCase(g.pending,a=>{a.loading=!0,a.error=null}).addCase(g.fulfilled,(a,b)=>{a.loading=!1,a.pets=b.payload}).addCase(g.rejected,(a,b)=>{a.loading=!1,a.error=b.payload||"Failed to fetch pets"})}}).reducer},10337:(a,b,c)=>{"use strict";c.d(b,{Ay:()=>l,Ns:()=>g,cD:()=>h,d3:()=>k,gG:()=>i});var d=c(9317),e=c(2118);let f=a=>({id:String(a.id),status:a.status,date:a.date.split("T")[0],time:a.time,timeSlot:a.time_slot,numberOfPets:a.number_of_pets,pets:a.pets.map(a=>({selectedPet:{id:String(a.id),name:a.name,type:a.type,gender:a.gender??"",age:a.age??"",weight:a.weight??"",is_neutered:a.is_neutered??!1},purposeOfVisit:a.purposeOfVisit??"",memo:a.memo??""})),memberInfo:{firstName:a.member_first_name??"",lastName:a.member_last_name??"",phoneNumber:a.member_phone??""},agreedToPolicy:a.agreed_to_policy}),g=(0,d.zD)("appointments/fetchAppointments",async(a,b)=>{try{return(await e.A.get("/appointments")).data.map(a=>f(a))}catch(a){return b.rejectWithValue(a.message)}}),h=(0,d.zD)("appointments/fetchAppointmentById",async(a,b)=>{try{let b=await e.A.get(`/appointments/${a}`);return f(b.data)}catch(a){return b.rejectWithValue(a.message)}}),i=(0,d.zD)("appointments/createAppointment",async(a,b)=>{try{let b=await e.A.post("/appointments",a);return f(b.data)}catch(a){return b.rejectWithValue(a.message)}}),j=(0,d.zD)("appointments/updateAppointment",async(a,b)=>{try{let{id:b,...c}=a,d=await e.A.put(`/appointments/${b}`,c);return f(d.data)}catch(a){return b.rejectWithValue(a.message)}}),k=(0,d.zD)("appointments/deleteAppointment",async(a,b)=>{try{return await e.A.delete(`/appointments/${a}`),a}catch(a){return b.rejectWithValue(a.message)}}),l=(0,d.Z0)({name:"appointment",initialState:{loading:!1,error:null,appointments:[],selectedAppointment:null},reducers:{},extraReducers:a=>{a.addCase(g.pending,a=>{a.loading=!0,a.error=null}).addCase(g.fulfilled,(a,b)=>{a.loading=!1,a.appointments=b.payload}).addCase(g.rejected,(a,b)=>{a.loading=!1,a.error=b.payload}).addCase(h.pending,a=>{a.loading=!0,a.error=null}).addCase(h.fulfilled,(a,b)=>{a.loading=!1,a.selectedAppointment=b.payload;let c=a.appointments.findIndex(a=>a.id===b.payload.id);-1!==c&&(a.appointments[c]=b.payload)}).addCase(h.rejected,(a,b)=>{a.loading=!1,a.error=b.payload}).addCase(i.pending,a=>{a.loading=!0,a.error=null}).addCase(i.fulfilled,(a,b)=>{a.loading=!1,a.appointments.push(b.payload)}).addCase(i.rejected,(a,b)=>{a.loading=!1,a.error=b.payload}).addCase(j.pending,a=>{a.loading=!0,a.error=null}).addCase(j.fulfilled,(a,b)=>{a.loading=!1,a.selectedAppointment=b.payload;let c=a.appointments.findIndex(a=>a.id===b.payload.id);-1!==c&&(a.appointments[c]=b.payload)}).addCase(j.rejected,(a,b)=>{a.loading=!1,a.error=b.payload}).addCase(k.pending,a=>{a.loading=!0,a.error=null}).addCase(k.fulfilled,(a,b)=>{a.loading=!1,a.appointments=a.appointments.filter(a=>a.id!==b.payload),a.selectedAppointment?.id===b.payload&&(a.selectedAppointment=null)}).addCase(k.rejected,(a,b)=>{a.loading=!1,a.error=b.payload})}}).reducer},10397:(a,b,c)=>{"use strict";c.d(b,{default:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/sarthakkhare/zootopia-frontend/src/app/StoreProvider.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/sarthakkhare/zootopia-frontend/src/app/StoreProvider.tsx","default")},15943:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,16133,23)),Promise.resolve().then(c.t.bind(c,16444,23)),Promise.resolve().then(c.t.bind(c,16042,23)),Promise.resolve().then(c.t.bind(c,49477,23)),Promise.resolve().then(c.t.bind(c,29345,23)),Promise.resolve().then(c.t.bind(c,12089,23)),Promise.resolve().then(c.t.bind(c,46577,23)),Promise.resolve().then(c.t.bind(c,31307,23)),Promise.resolve().then(c.t.bind(c,14817,23))},22091:(a,b,c)=>{"use strict";c.d(b,{Ay:()=>j,ic:()=>g,nO:()=>f});var d=c(9317),e=c(2118);let f=(0,d.zD)("vaccines/fetchVaccines",async(a,b)=>{try{return(await e.A.get("/vaccines")).data.map(a=>(a=>({id:a.id,petId:a.pet_id,vaccineType:a.vaccine_type,vaccineName:a.vaccine_name,vaccinationDate:a.vaccination_date,numberOfVaccinations:a.number_of_vaccinations,dueDate:a.vaccination_date,veterinarian:a.veterinarian,notes:a.notes,images:a.images||[]}))(a))}catch(a){return b.rejectWithValue(a.response?.data?.error||a.message)}}),g=(0,d.zD)("vaccines/createVaccine",async(a,b)=>{try{return(await e.A.post("/vaccines",a)).data}catch(a){return b.rejectWithValue(a.response?.data?.error||a.message)}}),h=(0,d.zD)("vaccines/updateVaccine",async(a,b)=>{try{let{id:b,...c}=a;return(await e.A.put(`/vaccines/${b}`,c)).data}catch(a){return b.rejectWithValue(a.response?.data?.error||a.message)}}),i=(0,d.zD)("vaccines/deleteVaccine",async(a,b)=>{try{return await e.A.delete(`/vaccines/${a}`),a}catch(a){return b.rejectWithValue(a.response?.data?.error||a.message)}}),j=(0,d.Z0)({name:"vaccine",initialState:{loading:!1,error:null,vaccines:[]},reducers:{},extraReducers:a=>{a.addCase(f.pending,a=>{a.loading=!0,a.error=null}).addCase(f.fulfilled,(a,b)=>{a.loading=!1,a.vaccines=b.payload}).addCase(f.rejected,(a,b)=>{a.loading=!1,a.error=b.payload}).addCase(g.pending,a=>{a.loading=!0,a.error=null}).addCase(g.fulfilled,(a,b)=>{a.loading=!1,a.vaccines.push(b.payload)}).addCase(g.rejected,(a,b)=>{a.loading=!1,a.error=b.payload}).addCase(h.pending,a=>{a.loading=!0,a.error=null}).addCase(h.fulfilled,(a,b)=>{a.loading=!1;let c=a.vaccines.findIndex(a=>a.id===b.payload.id);-1!==c&&(a.vaccines[c]=b.payload)}).addCase(h.rejected,(a,b)=>{a.loading=!1,a.error=b.payload}).addCase(i.pending,a=>{a.loading=!0,a.error=null}).addCase(i.fulfilled,(a,b)=>{a.loading=!1,a.vaccines=a.vaccines.filter(a=>a.id!==b.payload)}).addCase(i.rejected,(a,b)=>{a.loading=!1,a.error=b.payload})}}).reducer},52416:(a,b,c)=>{Promise.resolve().then(c.bind(c,78778))},54307:(a,b,c)=>{"use strict";c.d(b,{T:()=>d});let d=process.env.BACKEND_URL||"https://zootopia.webprvw.link/api"},54647:()=>{},58628:(a,b,c)=>{"use strict";c.d(b,{G:()=>f,j:()=>e});var d=c(54864);let e=d.wA,f=d.d4},61135:()=>{},62307:(a,b,c)=>{"use strict";c.d(b,{Ay:()=>j,KB:()=>h,Px:()=>g,Yt:()=>f});var d=c(9317),e=c(2118);let f=(0,d.zD)("medical/fetchRecords",async(a,b)=>{try{return(await e.A.get("/medical-records")).data.map(a=>(a=>({id:a.id,petId:a.pet_id,title:a.title,date:a.date,userDetails:a.user_details||void 0,hospitalDetails:a.hospital_details||void 0,photos:a.photos?.map(a=>({imageData:a.imageData,uploadedBy:a.uploadedBy}))||[]}))(a))}catch(a){return b.rejectWithValue(a.response?.data?.error||a.message)}}),g=(0,d.zD)("medical/createRecord",async(a,b)=>{try{return(await e.A.post("/medical-records",a)).data}catch(a){return b.rejectWithValue(a.response?.data?.error||a.message)}}),h=(0,d.zD)("medical/updateRecord",async(a,b)=>{try{let{id:b,...c}=a;return(await e.A.put(`/medical-records/${b}`,c)).data}catch(a){return b.rejectWithValue(a.response?.data?.error||a.message)}}),i=(0,d.zD)("medical/deleteRecord",async(a,b)=>{try{return await e.A.delete(`/medical-records/${a}`),a}catch(a){return b.rejectWithValue(a.response?.data?.error||a.message)}}),j=(0,d.Z0)({name:"medical",initialState:{loading:!1,error:null,records:[]},reducers:{},extraReducers:a=>{a.addCase(f.pending,a=>{a.loading=!0,a.error=null}).addCase(f.fulfilled,(a,b)=>{a.loading=!1,a.records=b.payload}).addCase(f.rejected,(a,b)=>{a.loading=!1,a.error=b.payload}).addCase(g.pending,a=>{a.loading=!0,a.error=null}).addCase(g.fulfilled,(a,b)=>{a.loading=!1,a.records.push(b.payload)}).addCase(g.rejected,(a,b)=>{a.loading=!1,a.error=b.payload}).addCase(h.pending,a=>{a.loading=!0,a.error=null}).addCase(h.fulfilled,(a,b)=>{a.loading=!1;let c=a.records.findIndex(a=>a.id===b.payload.id);-1!==c&&(a.records[c]=b.payload)}).addCase(h.rejected,(a,b)=>{a.loading=!1,a.error=b.payload}).addCase(i.pending,a=>{a.loading=!0,a.error=null}).addCase(i.fulfilled,(a,b)=>{a.loading=!1,a.records=a.records.filter(a=>a.id!==b.payload)}).addCase(i.rejected,(a,b)=>{a.loading=!1,a.error=b.payload})}}).reducer},65568:(a,b,c)=>{Promise.resolve().then(c.bind(c,10397))},67853:(a,b,c)=>{"use strict";c.d(b,{Ay:()=>j,sK:()=>f});var d=c(9317),e=c(2118);let f=(0,d.zD)("vaccineHistory/fetchHistory",async(a,b)=>{try{let b=await e.A.get(`/vaccines/${a}/history`);return{vaccineId:a,data:b.data.map(a=>(a=>({id:a.id,vaccineId:a.vaccine_id,petId:a.pet_id,treatmentInfo:a.treatment_info,dateAdministered:a.date_administered,photos:a.photos||[]}))(a))}}catch(a){return b.rejectWithValue(a.response?.data?.error||a.message)}}),g=(0,d.zD)("vaccineHistory/createHistory",async(a,b)=>{try{let{vaccineId:b,...c}=a;return(await e.A.post(`/vaccines/${b}/history`,c)).data}catch(a){return b.rejectWithValue(a.response?.data?.error||a.message)}}),h=(0,d.zD)("vaccineHistory/updateHistory",async(a,b)=>{try{let{id:b,vaccineId:c,...d}=a;return(await e.A.put(`/vaccines/${c}/history/${b}`,d)).data}catch(a){return b.rejectWithValue(a.response?.data?.error||a.message)}}),i=(0,d.zD)("vaccineHistory/deleteHistory",async({vaccineId:a,historyId:b},c)=>{try{return await e.A.delete(`/vaccines/${a}/history/${b}`),{vaccineId:a,historyId:b}}catch(a){return c.rejectWithValue(a.response?.data?.error||a.message)}}),j=(0,d.Z0)({name:"vaccineHistory",initialState:{loading:!1,error:null,histories:{}},reducers:{},extraReducers:a=>{a.addCase(f.pending,a=>{a.loading=!0,a.error=null}).addCase(f.fulfilled,(a,b)=>{a.loading=!1,a.histories[b.payload.vaccineId]=b.payload.data}).addCase(f.rejected,(a,b)=>{a.loading=!1,a.error=b.payload}).addCase(g.fulfilled,(a,b)=>{let{vaccineId:c}=b.payload;a.histories[c]||(a.histories[c]=[]),a.histories[c].push(b.payload)}).addCase(h.fulfilled,(a,b)=>{let{vaccineId:c,id:d}=b.payload,e=a.histories[c];if(e){let a=e.findIndex(a=>a.id===d);-1!==a&&(e[a]=b.payload)}}).addCase(i.fulfilled,(a,b)=>{let{vaccineId:c,historyId:d}=b.payload,e=a.histories[c];e&&(a.histories[c]=e.filter(a=>a.id!==d))}).addMatcher(a=>[g.pending,h.pending,i.pending].includes(a.type),a=>{a.loading=!0,a.error=null}).addMatcher(a=>[g.rejected,h.rejected,i.rejected,g.fulfilled,h.fulfilled,i.fulfilled].includes(a.type),(a,b)=>{a.loading=!1,b.type.endsWith("rejected")&&(a.error=b.payload)})}}).reducer},70440:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>e});var d=c(31658);let e=async a=>[{type:"image/x-icon",sizes:"16x16",url:(0,d.fillMetadataSegment)(".",await a.params,"favicon.ico")+""}]},78778:(a,b,c)=>{"use strict";c.d(b,{default:()=>y});var d=c(60687),e=c(43210),f=c(54864),g=c(9317);let h=(0,g.Z0)({name:"auth",initialState:{email:"",otp:""},reducers:{setEmail(a,b){a.email=b.payload},clearEmail(a){a.email=""},setOtp(a,b){a.otp=b.payload},clearOtp(a){a.otp=""}}}),{setEmail:i,clearEmail:j,setOtp:k,clearOtp:l}=h.actions,m=h.reducer;var n=c(89609),o=c(3541),p=c(10337),q=c(22091),r=c(67853),s=c(62307),t=c(37590),u=c(58628),v=c(15659),w=c(16189),x=c(2118);function y({children:a}){let b=(0,w.usePathname)(),c=(0,e.useRef)(null);return c.current||(c.current=(0,g.U1)({reducer:{auth:m,user:n.Ay,pet:o.Ay,appointment:p.Ay,vaccine:q.Ay,vaccineHistory:r.Ay,medical:s.Ay}})),(0,d.jsx)("div",{className:` ${b.includes("login")?" w-full":"max-w-3xl mx-auto"} `,children:(0,d.jsxs)(f.Kq,{store:c.current,children:[(0,d.jsx)(t.l$,{}),(0,d.jsx)(z,{}),a]})})}let z=()=>{let{pets:a}=(0,u.G)(a=>a.pet),{vaccines:b}=(0,u.G)(a=>a.vaccine),{records:c}=(0,u.G)(a=>a.medical),{appointments:f}=(0,u.G)(a=>a.appointment),g=(0,u.j)();return(0,e.useEffect)(()=>{let d=v.A.get("auth_token"),e=async()=>{try{let a=await x.A.get("/auth/profile");g((0,o.Hp)());let b=await a.data.profile;g((0,n.p)(b))}catch(a){console.error("Failed to fetch user profile:",a)}};a.length<=0&&d&&b.length<=0&&c.length<=0&&f.length<=0&&(e(),g((0,o.Hp)()),g((0,q.nO)()),g((0,s.Yt)()),g((0,p.Ns)()))},[g]),(0,d.jsx)(d.Fragment,{})}},81439:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,25227,23)),Promise.resolve().then(c.t.bind(c,86346,23)),Promise.resolve().then(c.t.bind(c,27924,23)),Promise.resolve().then(c.t.bind(c,40099,23)),Promise.resolve().then(c.t.bind(c,38243,23)),Promise.resolve().then(c.t.bind(c,28827,23)),Promise.resolve().then(c.t.bind(c,62763,23)),Promise.resolve().then(c.t.bind(c,97173,23)),Promise.resolve().then(c.bind(c,25587))},89609:(a,b,c)=>{"use strict";c.d(b,{Ay:()=>i,ZA:()=>g,d6:()=>h,p:()=>e});let d=(0,c(9317).Z0)({name:"user",initialState:{profile:null},reducers:{setUserProfile:(a,b)=>{a.profile=b.payload},clearUserProfile:a=>{a.profile=null},updateUserEmail:(a,b)=>{a.profile&&(a.profile.email=b.payload)},updateUserPhone:(a,b)=>{a.profile&&(a.profile.phone=b.payload)}}}),{setUserProfile:e,clearUserProfile:f,updateUserEmail:g,updateUserPhone:h}=d.actions,i=d.reducer},94431:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>g,metadata:()=>f});var d=c(37413);c(61135);var e=c(10397);let f={title:"Create Next App",description:"Generated by create next app"};function g({children:a}){return(0,d.jsx)("html",{lang:"en",children:(0,d.jsx)("body",{className:"antialiased  ",children:(0,d.jsxs)(e.default,{children:[" ",a]})})})}}};